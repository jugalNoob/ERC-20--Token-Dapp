{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sjuga\\\\OneDrive\\\\Pictures\\\\MERN_STACK_Project\\\\Stacking\\\\stacks\\\\src\\\\page\\\\Page.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useAsyncError, useNavigate } from 'react-router-dom';\nimport { ethers } from \"ethers\";\nimport abi from \"./ABI.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Page() {\n  _s();\n  //   const [userData , setUserData]=useState()\n  //   const navigate=useNavigate()\n  //   const callAbout=async()=>{\n\n  //     try {\n  //       const res=await fetch(\"/Cont\",{\n  // method:\"GET\",\n  // headers:{\n  //   Accept:\"application/json\",\n  //   \"Content-Type\": \"application/json\",\n  // },\n  // credentials:\"include\"\n\n  //       })\n\n  //       const data=await res.json()\n  //       console.log(data)\n  //       setUserData(data)\n  //       if(!res.status===200){\n  //         const error=new Error(res.error)\n  //         throw error;\n  //       }\n\n  //     } catch (error) {\n\n  //       console.log(error)\n  //       navigate(\"/login\")\n\n  //     }\n\n  //   }\n  //   useEffect(()=>{\n  //     callAbout()\n  //   },[])\n\n  const [state, setState] = useState({\n    provider: null,\n    signer: null,\n    address: null\n  });\n\n  //address\n  const [Addresss, setAddresss] = useState();\n  const contractAddress = \"0x423FDed43E4AF6C8780c9F678f0F606c5162259c\";\n  useEffect(() => {\n    const Checker = async () => {\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const account = await provider.send(\"eth_requestAccounts\", []);\n      const signer = provider.getSigner();\n      const address = await signer.getAddress();\n      // console.log(\"this is account \" + account)\n      // console.log(\"this is signer \" + signer.toString())\n      // console.log(address)\n      setAddresss(address);\n      setState({\n        provider,\n        signer,\n        address\n      });\n    };\n    Checker();\n  }, []);\n  const [total, setTotal] = useState();\n  const totalBalnce = async () => {\n    const {\n      provider,\n      signer\n    } = state;\n\n    // Check if provider and signer are not null or undefined\n    if (!provider || !signer) {\n      console.error('Provider or signer is null or undefined.');\n      return;\n    }\n    const contractss = new ethers.Contract(contractAddress, abi, signer);\n    try {\n      const toatals = await contractss.totalSupply();\n      console.log(toatals.toString());\n      setTotal(toatals.toString());\n    } catch (error) {\n      console.error('Error fetching totalSupply:', error);\n    }\n  };\n  useEffect(() => {\n    totalBalnce();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: total ? total : \"not connected\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n}\n_s(Page, \"rFTzPiao2C/Ken+G4iyxIr8gLAY=\");\n_c = Page;\nexport default Page;\nvar _c;\n$RefreshReg$(_c, \"Page\");","map":{"version":3,"names":["React","useState","useEffect","Link","useAsyncError","useNavigate","ethers","abi","jsxDEV","_jsxDEV","Page","_s","state","setState","provider","signer","address","Addresss","setAddresss","contractAddress","Checker","providers","Web3Provider","window","ethereum","account","send","getSigner","getAddress","total","setTotal","totalBalnce","console","error","contractss","Contract","toatals","totalSupply","log","toString","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/sjuga/OneDrive/Pictures/MERN_STACK_Project/Stacking/stacks/src/page/Page.jsx"],"sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport { Link,useAsyncError,useNavigate } from 'react-router-dom'\r\nimport { ethers } from \"ethers\";\r\nimport abi from \"./ABI.json\"\r\nfunction Page() {\r\n  \r\n//   const [userData , setUserData]=useState()\r\n//   const navigate=useNavigate()\r\n//   const callAbout=async()=>{\r\n\r\n//     try {\r\n//       const res=await fetch(\"/Cont\",{\r\n// method:\"GET\",\r\n// headers:{\r\n//   Accept:\"application/json\",\r\n//   \"Content-Type\": \"application/json\",\r\n// },\r\n// credentials:\"include\"\r\n\r\n//       })\r\n\r\n//       const data=await res.json()\r\n//       console.log(data)\r\n//       setUserData(data)\r\n//       if(!res.status===200){\r\n//         const error=new Error(res.error)\r\n//         throw error;\r\n//       }\r\n      \r\n\r\n//     } catch (error) {\r\n\r\n//       console.log(error)\r\n//       navigate(\"/login\")\r\n     \r\n      \r\n//     }\r\n\r\n//   }\r\n//   useEffect(()=>{\r\n//     callAbout()\r\n//   },[])\r\n\r\n\r\nconst [state , setState]=useState({\r\n  provider:null,\r\n  signer:null,\r\n  address:null\r\n})\r\n\r\n//address\r\nconst [Addresss, setAddresss]=useState();\r\n\r\nconst contractAddress=\"0x423FDed43E4AF6C8780c9F678f0F606c5162259c\";\r\n\r\nuseEffect(()=>{\r\n  const Checker=async()=>{\r\n  const provider = new ethers.providers.Web3Provider(window.ethereum)\r\n  const account=await provider.send(\"eth_requestAccounts\", []);\r\n  const signer=provider.getSigner()\r\n  const address = await signer.getAddress()\r\n  // console.log(\"this is account \" + account)\r\n  // console.log(\"this is signer \" + signer.toString())\r\n  // console.log(address)\r\n  setAddresss(address)\r\n  setState({provider , signer , address})   \r\n  }\r\n  \r\n  Checker()\r\n  },[])\r\n  \r\nconst [total , setTotal]=useState()\r\n\r\n\r\n\r\n\r\nconst totalBalnce = async () => {\r\n  const { provider, signer } = state;\r\n\r\n  // Check if provider and signer are not null or undefined\r\n  if (!provider || !signer) {\r\n    console.error('Provider or signer is null or undefined.');\r\n    return;\r\n  }\r\n\r\n  const contractss = new ethers.Contract(contractAddress, abi, signer);\r\n\r\n  try {\r\n    const toatals = await contractss.totalSupply();\r\n    console.log(toatals.toString());\r\n    setTotal(toatals.toString());\r\n  } catch (error) {\r\n    console.error('Error fetching totalSupply:', error);\r\n  }\r\n};\r\n\r\nuseEffect(() => {\r\n  totalBalnce();\r\n}, []);\r\n\r\n  return (\r\n    <div>\r\n\r\n\r\n\r\n<h1>{total ? total : \"not connected\"}</h1>\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Page"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}